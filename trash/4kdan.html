<!DOCTYPE html>
<html lang='zh-CN'>

<head>
  <meta name="generator" content="Hexo 6.3.0">
  <meta name="hexo-theme" content="https://github.com/xaoxuu/hexo-theme-stellar/tree/1.18.5">
  <meta charset="utf-8">
  

  <meta http-equiv='x-dns-prefetch-control' content='on' />
  <link rel='dns-prefetch' href='https://gcore.jsdelivr.net'>
  <link rel="preconnect" href="https://gcore.jsdelivr.net" crossorigin>
  <link rel='dns-prefetch' href='//unpkg.com'>

  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True" >
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="theme-color" content="#f8f8f8">
  
  <title>osu! 4K Dan Revised 2023 - Cryovit = random</title>

  
    <meta name="description" content="Read Before ProceedingThe content of this article is purely fictional and is not related to any organisation or individual in real life. In addition, it contains GPT-3.5 generated text, which may not">
<meta property="og:type" content="website">
<meta property="og:title" content="osu! 4K Dan Revised 2023">
<meta property="og:url" content="https://cryovit.github.io/trash/4kdan.html">
<meta property="og:site_name" content="Cryovit &#x3D; random">
<meta property="og:description" content="Read Before ProceedingThe content of this article is purely fictional and is not related to any organisation or individual in real life. In addition, it contains GPT-3.5 generated text, which may not">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2023-05-06T00:00:00.000Z">
<meta property="article:modified_time" content="2023-07-18T02:16:11.434Z">
<meta property="article:author" content="Cryovit">
<meta property="article:tag" content="cryovit, computer science, python, blog, hexo">
<meta name="twitter:card" content="summary">
  
  

  <!-- feed -->
  

  
    
<link rel="stylesheet" href="/css/main.css">

  

  
    <link rel="shortcut icon" href="/image/favicon.png">
  

  

  


  
    
      <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC&display=swap" rel="stylesheet">
    
      <link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel="stylesheet">
    
  
</head>

<body>
  


  <div class='l_body' id='start'>
    <aside class='l_left' layout='page'>
    

  

<header class="header"><div class="logo-wrap"><a class="title" href="/"><div class="main" ff="title">Cryovit = random</div><div class="sub normal cap">City University of Hong Kong</div><div class="sub hover cap" style="opacity:0"> Computer Science</div></a></div>

<nav class="menu dis-select"></nav>
</header>


<div class="widgets">
<widget class="widget-wrapper search"><div class="widget-body"><div class="search-wrapper" id="search"><form class="search-form"><input type="text" class="search-input" id="search-input" placeholder="站内搜索"><svg t="1670596976048" class="icon search-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2676" width="200" height="200"><path d="M938.2 832.6L723.8 618.1c-2.5-2.5-5.3-4.4-7.9-6.4 36.2-55.6 57.3-121.8 57.3-193.1C773.3 222.8 614.6 64 418.7 64S64 222.8 64 418.6c0 195.9 158.8 354.6 354.6 354.6 71.3 0 137.5-21.2 193.2-57.4 2 2.7 3.9 5.4 6.3 7.8L832.5 938c14.6 14.6 33.7 21.9 52.8 21.9 19.1 0 38.2-7.3 52.8-21.8 29.2-29.1 29.2-76.4 0.1-105.5M418.7 661.3C284.9 661.3 176 552.4 176 418.6 176 284.9 284.9 176 418.7 176c133.8 0 242.6 108.9 242.6 242.7 0 133.7-108.9 242.6-242.6 242.6" p-id="2677"></path></svg></form><div id="search-result"></div><div class="search-no-result">没有找到内容！</div></div></div></widget>


<widget class="widget-wrapper toc single" id="data-toc"><div class="widget-header cap dis-select"><span class="name">osu! 4K Dan Revised 2023</span></div><div class="widget-body fs14"><div class="doc-tree active"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#What%E2%80%99s-new"><span class="toc-text">What’s new?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Difficulties"><span class="toc-text">Difficulties</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Number-of-Songs"><span class="toc-text">Number of Songs</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Pass-requirements"><span class="toc-text">Pass requirements</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#FAQ"><span class="toc-text">FAQ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Is-this-even-possible"><span class="toc-text">Is this even possible?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#How-do-I-practice"><span class="toc-text">How do I practice?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#What-modifiers-can-I-use"><span class="toc-text">What modifiers can I use?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Will-this-Dan-be-ranked"><span class="toc-text">Will this Dan be ranked?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Can-I-use-the-map-for-tournaments"><span class="toc-text">Can I use the map for tournaments?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Is-this-official-or-are-you-affiliated-with-the-osu-team"><span class="toc-text">Is this official, or are you affiliated with the osu! team?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Will-this-project-be-updated"><span class="toc-text">Will this project be updated?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Can-I-contribute-to-this-project"><span class="toc-text">Can I contribute to this project?</span></a></li></ol></li></ol></div></div></widget>
</div>


    </aside>
    <div class='l_main'>
      
  

<header class="header mobile-only"><div class="logo-wrap"><a class="title" href="/"><div class="main" ff="title">Cryovit = random</div><div class="sub normal cap">City University of Hong Kong</div><div class="sub hover cap" style="opacity:0"> Computer Science</div></a></div></header>



      


<div class="bread-nav fs12"><div id="breadcrumb"><a class="cap breadcrumb" href="/">主页</a><span class="sep"></span><a class="cap breadcrumb" href="/trash/4kdan.html">osu! 4K Dan Revised 2023</a></div></div>
<article class="md-text content page"><h1 class="article-title"><span>osu! 4K Dan Revised 2023</span></h1><div class="tag-plugin note" color="warning"><div class="title"><strong>Read Before Proceeding</strong></div><div class="body"><p>The content of this article is purely fictional and is not related to any organisation or individual in real life. </p><p>In addition, it contains GPT-3.5 generated text, which may not be accurate or reliable. Please read with caution.</p><p>This article was created on <strong>2023-05-06</strong>. Have fun reading!</p></div></div>

<hr>
<p>This is the latest version of the renowned <a target="_blank" rel="noopener" href="https://osu.ppy.sh/beatmapsets/1079991#mania/2259507">osu! 4K Dan <del>Reform</del></a>, which was originally created by <a target="_blank" rel="noopener" href="https://osu.ppy.sh/users/102486">Kroytz</a> and <a target="_blank" rel="noopener" href="https://osu.ppy.sh/users/3951870">Sotarks</a> in 2019. </p>
<h2 id="What’s-new"><a href="#What’s-new" class="headerlink" title="What’s new?"></a>What’s new?</h2><ul>
<li>Overhaul of the entire mapset</li>
<li>Fully redesigned difficulty curve</li>
<li>New patterns and gimmicks</li>
</ul>
<h2 id="Difficulties"><a href="#Difficulties" class="headerlink" title="Difficulties"></a>Difficulties</h2><table>
<thead>
<tr>
<th align="center">Revisited Dan</th>
<th align="center">Original</th>
<th align="center">Stars</th>
</tr>
</thead>
<tbody><tr>
<td align="center">Prelude 1</td>
<td align="center">-</td>
<td align="center">1.0</td>
</tr>
<tr>
<td align="center">Prelude 2</td>
<td align="center">Intro 1</td>
<td align="center">1.5</td>
</tr>
<tr>
<td align="center">Prelude 3</td>
<td align="center">-</td>
<td align="center">1.9</td>
</tr>
<tr>
<td align="center">Prelude 4</td>
<td align="center">Intro 2</td>
<td align="center">2.3</td>
</tr>
<tr>
<td align="center">Prelude 5</td>
<td align="center">Intro 3</td>
<td align="center">2.8</td>
</tr>
<tr>
<td align="center">Prelude 6</td>
<td align="center">-</td>
<td align="center">3.1</td>
</tr>
<tr>
<td align="center">Fugue 1</td>
<td align="center">Dan 1</td>
<td align="center">3.3</td>
</tr>
<tr>
<td align="center">Fugue 2</td>
<td align="center">Dan 2</td>
<td align="center">3.6</td>
</tr>
<tr>
<td align="center">Fugue 3</td>
<td align="center">Dan 3</td>
<td align="center">3.9</td>
</tr>
<tr>
<td align="center">Fugue 4</td>
<td align="center">-</td>
<td align="center">4.1</td>
</tr>
<tr>
<td align="center">Fugue 5</td>
<td align="center">Dan 4</td>
<td align="center">4.3</td>
</tr>
<tr>
<td align="center">Fugue 6</td>
<td align="center">Dan 5</td>
<td align="center">4.5</td>
</tr>
<tr>
<td align="center">Fugue 7</td>
<td align="center">Dan 6</td>
<td align="center">4.7</td>
</tr>
<tr>
<td align="center">Fugue 8</td>
<td align="center">-</td>
<td align="center">5.0</td>
</tr>
<tr>
<td align="center">Fugue 9</td>
<td align="center">Dan 7</td>
<td align="center">5.3</td>
</tr>
<tr>
<td align="center">Fugue 10</td>
<td align="center">Dan 8</td>
<td align="center">5.5</td>
</tr>
<tr>
<td align="center">Chorus 1</td>
<td align="center">Dan 9</td>
<td align="center">5.7</td>
</tr>
<tr>
<td align="center">Chorus 2</td>
<td align="center">Dan 10</td>
<td align="center">5.9</td>
</tr>
<tr>
<td align="center">Chorus 3</td>
<td align="center">Alpha</td>
<td align="center">6.1</td>
</tr>
<tr>
<td align="center">Chorus 4</td>
<td align="center">-</td>
<td align="center">6.3</td>
</tr>
<tr>
<td align="center">Chorus 5</td>
<td align="center">Beta</td>
<td align="center">6.5</td>
</tr>
<tr>
<td align="center">Chorus 6</td>
<td align="center">Gamma</td>
<td align="center">6.7</td>
</tr>
<tr>
<td align="center">Chorus 7</td>
<td align="center">-</td>
<td align="center">7.0</td>
</tr>
<tr>
<td align="center">Chorus 8</td>
<td align="center">Delta</td>
<td align="center">7.3</td>
</tr>
<tr>
<td align="center">Chorus 9</td>
<td align="center">-</td>
<td align="center">7.5</td>
</tr>
<tr>
<td align="center">Chorus 10</td>
<td align="center">-</td>
<td align="center">7.7</td>
</tr>
<tr>
<td align="center">Finale 1</td>
<td align="center">Epsilon</td>
<td align="center">8.0</td>
</tr>
<tr>
<td align="center">Finale 2</td>
<td align="center">-</td>
<td align="center">8.2</td>
</tr>
<tr>
<td align="center">Finale 3</td>
<td align="center">Zeta</td>
<td align="center">8.4</td>
</tr>
<tr>
<td align="center">Finale 4</td>
<td align="center">-</td>
<td align="center">8.6</td>
</tr>
<tr>
<td align="center">Finale 5</td>
<td align="center">Eta</td>
<td align="center">8.8</td>
</tr>
<tr>
<td align="center">Finale 6</td>
<td align="center">-</td>
<td align="center">9.0</td>
</tr>
<tr>
<td align="center">Finale 7</td>
<td align="center">Theta</td>
<td align="center">9.2</td>
</tr>
<tr>
<td align="center">Finale 8</td>
<td align="center">-</td>
<td align="center">9.4</td>
</tr>
<tr>
<td align="center">Finale 9</td>
<td align="center">Iota</td>
<td align="center">9.6</td>
</tr>
<tr>
<td align="center">Finale 10</td>
<td align="center">-</td>
<td align="center">9.8</td>
</tr>
<tr>
<td align="center">Grand Finale</td>
<td align="center">Kappa</td>
<td align="center">10.0</td>
</tr>
</tbody></table>
<h2 id="Number-of-Songs"><a href="#Number-of-Songs" class="headerlink" title="Number of Songs"></a>Number of Songs</h2><ul>
<li><strong>Prelude</strong>:<ul>
<li>1-3: 2 songs</li>
<li>4-6: 3 songs</li>
</ul>
</li>
<li><strong>Fugue</strong>:<ul>
<li>1-5: 3 songs</li>
<li>6-10: 4 songs</li>
</ul>
</li>
<li><strong>Chorus</strong>:<ul>
<li>1-5: 4 songs</li>
<li>6-10: 5 songs</li>
</ul>
</li>
<li><strong>Finale</strong>:<ul>
<li>1-5: 5 songs</li>
<li>6-10: 6 songs</li>
</ul>
</li>
<li><strong>Grand Finale</strong>: 7 songs</li>
</ul>
<h2 id="Pass-requirements"><a href="#Pass-requirements" class="headerlink" title="Pass requirements"></a>Pass requirements</h2><ul>
<li><strong>Prelude</strong>: 94% accuracy</li>
<li><strong>Fugue</strong>: 95% accuracy</li>
<li><strong>Chorus</strong>: 96% accuracy</li>
<li><strong>Finale</strong>: 97% accuracy (including the Grand Finale)</li>
</ul>
<h2 id="FAQ"><a href="#FAQ" class="headerlink" title="FAQ"></a>FAQ</h2><h3 id="Is-this-even-possible"><a href="#Is-this-even-possible" class="headerlink" title="Is this even possible?"></a>Is this even possible?</h3><p>Yes or no. 4K dan is known for its difficulty, but it is not impossible.</p>
<p>The Revisited Dans are designed to be more accessible for players of all skill levels, both for beginners and veterans. The difficulty curve is also more consistent, so you won’t be surprised by any sudden difficulty spikes.</p>
<p>Another good news is that, when the Reform Dan first came out, it was commonly believed that “only 2 people could pass Epsilon”. Today, however, hundreds of players have cleared the map, and the best players can make through Eta. This shows that the skill level of the osu!mania community has improved significantly over the years.</p>
<p>The Grand Finale is, more than, a grand finale. The top players are still far from passing it, but it is definitely possible to pass the map with enough practice, hopefully in the next few years.</p>
<h3 id="How-do-I-practice"><a href="#How-do-I-practice" class="headerlink" title="How do I practice?"></a>How do I practice?</h3><ul>
<li>For Prelude: keeps practicing ordinary maps requiring slightly more than your current skill level. With effective practice, you should be able to pass Prelude 1-3 in a few weeks, and Prelude 4-6 in a few months. This progress is not as simple as it sounds, but it is definitely possible.</li>
<li>For Fugue: now you should be clear about your strengths and weaknesses. Besides ordinary maps, you can also try sets specializing in Jack, LN, burst, etc. These sets can be found in the <a target="_blank" rel="noopener" href="https://osu.ppy.sh/beatmapsets?m=3&la=English&sort=plays_desc">osu!mania Beatmap Packs</a>. They come in different levels of difficulty, so you can choose the ones that suit you the best. After Fugue 5, things will become even more difficult, because 4 songs requires much more stamina than 3 songs. Passing Fugue 10 is equal to a mixture of practice, determination, and luck, and when you make it, you are ready for the next stage.</li>
<li>For Chorus: things become more interesting here. Chorus can require some sort of talent, but it is not impossible to pass. You can try to practice some of the more difficult maps in the <a target="_blank" rel="noopener" href="https://osu.ppy.sh/beatmapsets?m=3&la=English&sort=plays_desc">osu!mania eXtra Beatmap Packs</a>, which are also specialized in different skills. After Chorus 5, you will be able to pass most of the maps in the game, and prepare yourself for the final challenges of the Dan. It should be noted that 96% accuracy is significantly more demanding than 95% accuracy, but you will gradually learn to become more precise and consistent.</li>
<li>For Finale: yes, you are here, you are already among the top players in the world. I, personally, am not a top player, so I can’t give you any advice. But I believe that you will be able to pass the Dan with enough practice and determination. Good luck and have fun! Remember, don’t limit yourself to the Dan, there are many other great maps out there waiting for you to explore.</li>
</ul>
<h3 id="What-modifiers-can-I-use"><a href="#What-modifiers-can-I-use" class="headerlink" title="What modifiers can I use?"></a>What modifiers can I use?</h3><p>You can only use the following modifiers:</p>
<ul>
<li><strong>Mirror</strong>: you can flip the map horizontally if you want to.</li>
<li><strong>Constant BPM</strong>: you can use this modifier to make the map easier to read.</li>
</ul>
<p>Other modifiers are not allowed. You can not use Double Time, Hidden, Flashlight, or any other modifiers that can affect the gameplay.</p>
<h3 id="Will-this-Dan-be-ranked"><a href="#Will-this-Dan-be-ranked" class="headerlink" title="Will this Dan be ranked?"></a>Will this Dan be ranked?</h3><p>No. It will not become ranked because it is not, factually, a mapset. It is a collection of maps, which you can find and download from the website.</p>
<p>The map consistency and length is also very different from normal ranked maps, which make it difficult to calculate actual difficulty star. (The star given above is only for reference, not calculated by the official algorithm.)</p>
<h3 id="Can-I-use-the-map-for-tournaments"><a href="#Can-I-use-the-map-for-tournaments" class="headerlink" title="Can I use the map for tournaments?"></a>Can I use the map for tournaments?</h3><p>You can, for private or invitational tournaments. Official tournaments, however, will never use theses maps.</p>
<h3 id="Is-this-official-or-are-you-affiliated-with-the-osu-team"><a href="#Is-this-official-or-are-you-affiliated-with-the-osu-team" class="headerlink" title="Is this official, or are you affiliated with the osu! team?"></a>Is this official, or are you affiliated with the osu! team?</h3><p>No. This is a fan-made project, and I am not affiliated with the osu! team in any way.</p>
<p>osu! mania 4K dan has always been a community project from the very beginning. Our slogan is, “by the community, for the community”. We are not trying to replace the official dan system, but to provide an alternative for players who are interested in the dan system.</p>
<h3 id="Will-this-project-be-updated"><a href="#Will-this-project-be-updated" class="headerlink" title="Will this project be updated?"></a>Will this project be updated?</h3><ul>
<li>Prelude: no.</li>
<li>Fugue: might be updated in the future.</li>
<li>Chorus: might be updated in the future.</li>
<li>Finale: no. I hope we don’t have to update within 10 years!</li>
</ul>
<p>We plan to release a new version of the dan every year. Only Fugue and Chorus will be updated, and the new version will be released on the 1st of January.</p>
<p>This can be massive rewrite, or just a few minor changes. We will try to keep the changes as small as possible, so that you don’t have to relearn everything from scratch.</p>
<h3 id="Can-I-contribute-to-this-project"><a href="#Can-I-contribute-to-this-project" class="headerlink" title="Can I contribute to this project?"></a>Can I contribute to this project?</h3><p>Yes. You can contribute to this project by mapping new songs, or by providing feedbacks and suggestions.</p>
<p>That’s it. Thank you osu! mania community for your support, and I hope you enjoy the dan!</p>
</article>

  <div class='related-wrap md-text reveal' id="comments">
    <section class='header cmt-title cap theme'>
      快来参与讨论吧
    </section>
    <section class='body cmt-body beaudar'>
      

<svg class="loading" style="vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2709"><path d="M832 512c0-176-144-320-320-320V128c211.2 0 384 172.8 384 384h-64zM192 512c0 176 144 320 320 320v64C300.8 896 128 723.2 128 512h64z" p-id="2710"></path></svg>

<div id="beaudar" repo="CryoVit/blog-comments" issue-term="pathname" theme="preferred-color-scheme" input-position="top" comment-order="desc" loading="false" branch="main"></div>

    </section>
  </div>



      
<footer class="page-footer reveal fs12"><hr><div class="sitemap"><div class="sitemap-group"><span class="fs14">博客</span><a href="/">近期</a><a href="/categories/">分类</a><a href="/archives/">归档</a></div><div class="sitemap-group"><span class="fs14">站点</span><a target="_blank" rel="noopener" href="https://steamcommunity.com/id/unreset/">Steam</a><a target="_blank" rel="noopener" href="https://bgm.tv/user/788548">Bangumi</a><a target="_blank" rel="noopener" href="https://github.com/Cryovit">Github</a></div><div class="sitemap-group"><span class="fs14">社交</span><a href="/2023/about/">关于</a><a href="/">友链</a><a href="/">留言板</a></div></div><div class="text"><p><a target="_blank" rel="noopener" href="https://github.com/Cryovit">@CryoVit</a> Overclocked by <a target="_blank" rel="noopener" href="https://xaoxuu.com/wiki/stellar/">Stellar</a></p>
</div></footer>

      <div class='float-panel mobile-only blur' style='display:none'>
  <button type='button' class='sidebar-toggle mobile' onclick='sidebar.toggle()'>
    <svg class="icon" style="width: 1em; height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15301"><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 2.3 26.8 24.6 47.5 51.6 47.6h416.5v4z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15302"></path><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 1.9 27.7 23.9 49.7 51.6 51.6h416.5z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15303"></path></svg>
  </button>
</div>

    </div>
  </div>
  <div class='scripts'>
    <script type="text/javascript">
  const stellar = {
    // 懒加载 css https://github.com/filamentgroup/loadCSS
    loadCSS: (href, before, media, attributes) => {
      var doc = window.document;
      var ss = doc.createElement("link");
      var ref;
      if (before) {
        ref = before;
      } else {
        var refs = (doc.body || doc.getElementsByTagName("head")[0]).childNodes;
        ref = refs[refs.length - 1];
      }
      var sheets = doc.styleSheets;
      if (attributes) {
        for (var attributeName in attributes) {
          if (attributes.hasOwnProperty(attributeName)) {
            ss.setAttribute(attributeName, attributes[attributeName]);
          }
        }
      }
      ss.rel = "stylesheet";
      ss.href = href;
      ss.media = "only x";
      function ready(cb) {
        if (doc.body) {
          return cb();
        }
        setTimeout(function () {
          ready(cb);
        });
      }
      ready(function () {
        ref.parentNode.insertBefore(ss, before ? ref : ref.nextSibling);
      });
      var onloadcssdefined = function (cb) {
        var resolvedHref = ss.href;
        var i = sheets.length;
        while (i--) {
          if (sheets[i].href === resolvedHref) {
            return cb();
          }
        }
        setTimeout(function () {
          onloadcssdefined(cb);
        });
      };
      function loadCB() {
        if (ss.addEventListener) {
          ss.removeEventListener("load", loadCB);
        }
        ss.media = media || "all";
      }
      if (ss.addEventListener) {
        ss.addEventListener("load", loadCB);
      }
      ss.onloadcssdefined = onloadcssdefined;
      onloadcssdefined(loadCB);
      return ss;
    },

    // 从 butterfly 和 volantis 获得灵感
    loadScript: (src, opt) => new Promise((resolve, reject) => {
      var script = document.createElement('script');
      script.src = src;
      if (opt) {
        for (let key of Object.keys(opt)) {
          script[key] = opt[key]
        }
      } else {
        // 默认异步，如果需要同步，第二个参数传入 {} 即可
        script.async = true
      }
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    }),

    // https://github.com/jerryc127/hexo-theme-butterfly
    jQuery: (fn) => {
      if (typeof jQuery === 'undefined') {
        stellar.loadScript(stellar.plugins.jQuery).then(fn)
      } else {
        fn()
      }
    }
  };
  stellar.version = '1.18.5';
  stellar.github = 'https://github.com/xaoxuu/hexo-theme-stellar/tree/1.18.5';
  stellar.config = {
    date_suffix: {
      just: '刚刚',
      min: '分钟前',
      hour: '小时前',
      day: '天前',
      month: '个月前',
    },
  };

  // required plugins (only load if needs)
  stellar.plugins = {
    jQuery: 'https://gcore.jsdelivr.net/npm/jquery@3.6.2/dist/jquery.min.js'
  };

  if ('local_search') {
    stellar.search = {};
    stellar.search.service = 'local_search';
    if (stellar.search.service == 'local_search') {
      let service_obj = Object.assign({}, {"field":"all","path":"/search.json","content":true,"sort":"-date"});
      stellar.search[stellar.search.service] = service_obj;
    }
  }

  // stellar js
  stellar.plugins.stellar = Object.assign({"sites":"/js/plugins/sites.js","friends":"/js/plugins/friends.js","ghinfo":"/js/plugins/ghinfo.js","timeline":"/js/plugins/timeline.js","linkcard":"/js/plugins/linkcard.js","fcircle":"/js/plugins/fcircle.js","weibo":"/js/plugins/weibo.js"});

  stellar.plugins.marked = Object.assign("https://cdn.bootcdn.net/ajax/libs/marked/4.0.18/marked.min.js");
  // optional plugins
  if ('true' == 'true') {
    stellar.plugins.lazyload = Object.assign({"enable":true,"js":"https://gcore.jsdelivr.net/npm/vanilla-lazyload@17.8.3/dist/lazyload.min.js","transition":"blur"});
  }
  if ('true' == 'true') {
    stellar.plugins.swiper = Object.assign({"enable":true,"css":"https://unpkg.com/swiper@8.4.5/swiper-bundle.min.css","js":"https://unpkg.com/swiper@8.4.5/swiper-bundle.min.js"});
  }
  if ('' == 'true') {
    stellar.plugins.scrollreveal = Object.assign({"enable":null,"js":"https://gcore.jsdelivr.net/npm/scrollreveal@4.0.9/dist/scrollreveal.min.js","distance":"8px","duration":500,"interval":100,"scale":1});
  }
  if ('true' == 'true') {
    stellar.plugins.preload = Object.assign({"enable":true,"service":"flying_pages","instant_page":"https://gcore.jsdelivr.net/gh/volantis-x/cdn-volantis@4.1.2/js/instant_page.js","flying_pages":"https://gcore.jsdelivr.net/gh/gijo-varghese/flying-pages@2.1.2/flying-pages.min.js"});
  }
  if ('true' == 'true') {
    stellar.plugins.fancybox = Object.assign({"enable":true,"js":"https://gcore.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.umd.js","css":"https://gcore.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.css","selector":".swiper-slide img"});
  }
  if ('false' == 'true') {
    stellar.plugins.heti = Object.assign({"enable":false,"css":"https://unpkg.com/heti@0.9.2/umd/heti.min.css","js":"https://unpkg.com/heti@0.9.2/umd/heti-addon.min.js"});
  }
</script>

<!-- required -->

  
<script src="/js/main.js" async></script>



<!-- optional -->

  <script>
  function loadBeaudar() {
    const els = document.querySelectorAll("#comments #beaudar");
    if (els.length === 0) return;
    els.forEach((el, i) => {
      try {
        el.innerHTML = '';
      } catch (error) {
        console.log(error);
      }
      var script = document.createElement('script');
      script.src = 'https://beaudar.lipk.org/client.js';
      script.async = true;
      for (let key of Object.keys(el.attributes)) {
        let attr = el.attributes[key];
        if (['class', 'id'].includes(attr.name) === false) {
          script.setAttribute(attr.name, attr.value);
        }
      }
      el.appendChild(script);
    });
  }
  window.addEventListener('DOMContentLoaded', (event) => {
      loadBeaudar();
  });
</script>




<!-- inject -->


  </div>
</body>
</html>
