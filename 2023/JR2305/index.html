<!DOCTYPE html>
<html lang='zh-CN'>

<head>
  <meta name="generator" content="Hexo 6.3.0">
  <meta name="hexo-theme" content="https://github.com/xaoxuu/hexo-theme-stellar/tree/1.18.5">
  <meta charset="utf-8">
  

  <meta http-equiv='x-dns-prefetch-control' content='on' />
  <link rel='dns-prefetch' href='https://gcore.jsdelivr.net'>
  <link rel="preconnect" href="https://gcore.jsdelivr.net" crossorigin>
  <link rel='dns-prefetch' href='//unpkg.com'>

  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True" >
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="theme-color" content="#f8f8f8">
  
  <title>D4C：2023 年 5 月 - Cryovit=Random</title>

  
    <meta name="description" content="都看到这里了就麻烦点个 Star 吧！">
<meta property="og:type" content="article">
<meta property="og:title" content="D4C：2023 年 5 月">
<meta property="og:url" content="https://cryovit.github.io/2023/JR2305/index.html">
<meta property="og:site_name" content="Cryovit&#x3D;Random">
<meta property="og:description" content="都看到这里了就麻烦点个 Star 吧！">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://raw.githubusercontent.com/CryoVit/bangumi-anime-ranking/main/data/stat/avg.png">
<meta property="og:image" content="https://raw.githubusercontent.com/CryoVit/bangumi-anime-ranking/main/data/stat/std.png">
<meta property="og:image" content="https://raw.githubusercontent.com/CryoVit/bangumi-anime-ranking/main/data/stat/vote.png">
<meta property="og:image" content="https://raw.githubusercontent.com/CryoVit/bangumi-anime-ranking/main/data/stat/rank_avg.png">
<meta property="og:image" content="https://raw.githubusercontent.com/CryoVit/bangumi-anime-ranking/main/data/stat/vote_breakdown.png">
<meta property="article:published_time" content="2023-05-01T00:00:00.000Z">
<meta property="article:modified_time" content="2023-06-16T14:09:24.941Z">
<meta property="article:author" content="CryoVit">
<meta property="article:tag" content="cryovit, computer science, python, blog, hexo">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/CryoVit/bangumi-anime-ranking/main/data/stat/avg.png">
  
  

  <!-- feed -->
  

  
    
<link rel="stylesheet" href="/css/main.css">

  

  
    <link rel="shortcut icon" href="/image/favicon.png">
  

  

  


  
    
      <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC&display=swap" rel="stylesheet">
    
  
</head>

<body>
  




  <div class='l_body' id='start'>
    <aside class='l_left' layout='post'>
    

  

<header class="header"><div class="logo-wrap"><a class="title" href="/"><div class="main" ff="title">Cryovit=Random</div><div class="sub normal cap">City University of Hong Kong</div><div class="sub hover cap" style="opacity:0"> Computer Science</div></a></div>

<nav class="menu dis-select"></nav>
</header>


<div class="widgets">
<widget class="widget-wrapper search"><div class="widget-body"><div class="search-wrapper" id="search"><form class="search-form"><input type="text" class="search-input" id="search-input" data-filter="/blog/" placeholder="文章搜索"><svg t="1670596976048" class="icon search-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2676" width="200" height="200"><path d="M938.2 832.6L723.8 618.1c-2.5-2.5-5.3-4.4-7.9-6.4 36.2-55.6 57.3-121.8 57.3-193.1C773.3 222.8 614.6 64 418.7 64S64 222.8 64 418.6c0 195.9 158.8 354.6 354.6 354.6 71.3 0 137.5-21.2 193.2-57.4 2 2.7 3.9 5.4 6.3 7.8L832.5 938c14.6 14.6 33.7 21.9 52.8 21.9 19.1 0 38.2-7.3 52.8-21.8 29.2-29.1 29.2-76.4 0.1-105.5M418.7 661.3C284.9 661.3 176 552.4 176 418.6 176 284.9 284.9 176 418.7 176c133.8 0 242.6 108.9 242.6 242.7 0 133.7-108.9 242.6-242.6 242.6" p-id="2677"></path></svg></form><div id="search-result"></div><div class="search-no-result">没有找到内容！</div></div></div></widget>


<widget class="widget-wrapper toc single" id="data-toc"><div class="widget-header cap dis-select"><span class="name">D4C：2023 年 5 月</span></div><div class="widget-body fs14"><div class="doc-tree active"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#2023-%E5%B9%B4-5-%E6%9C%88-1-%E6%97%A5%EF%BC%8C%E6%98%9F%E6%9C%9F%E4%B8%80"><span class="toc-text">2023 年 5 月 1 日，星期一</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%8E%E4%B8%BD%E6%94%B6%E5%9C%BA"><span class="toc-text">华丽收场</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TL-DR"><span class="toc-text">TL;DR</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Copilot-%E7%9A%84%E5%AE%8C%E7%BE%8E%E7%AE%97%E6%9C%AF%E6%95%99%E5%AE%A4"><span class="toc-text">Copilot 的完美算术教室</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2023-%E5%B9%B4-5-%E6%9C%88-2-%E6%97%A5%EF%BC%8C%E6%98%9F%E6%9C%9F%E4%BA%8C"><span class="toc-text">2023 年 5 月 2 日，星期二</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A5%BD%E7%9A%84%E6%95%85%E4%BA%8B"><span class="toc-text">好的故事</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9D%8F%E7%9A%84%E6%95%85%E4%BA%8B"><span class="toc-text">坏的故事</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2023-%E5%B9%B4-5-%E6%9C%88-3-%E6%97%A5%EF%BC%8C%E6%98%9F%E6%9C%9F%E4%B8%89"><span class="toc-text">2023 年 5 月 3 日，星期三</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B0%E7%9A%84%E6%95%85%E4%BA%8B"><span class="toc-text">新的故事</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2023-%E5%B9%B4-5-%E6%9C%88-6-%E6%97%A5%EF%BC%8C%E6%98%9F%E6%9C%9F%E5%85%AD"><span class="toc-text">2023 年 5 月 6 日，星期六</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%84%9A%E6%9C%AC%E9%81%93%EF%BC%8C%E5%A0%82%E5%A0%82%E8%BF%9E%E8%BD%BD"><span class="toc-text">脚本道，堂堂连载</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CSS-is-awesome-min-js"><span class="toc-text">CSS_is_awesome.min.js</span></a></li></ol></li></ol></div></div></widget>




</div>


    </aside>
    <div class='l_main'>
      

      


<div class="bread-nav fs12"><div id="breadcrumb"><a class="cap breadcrumb" href="/">主页</a><span class="sep"></span><a class="cap breadcrumb" href="/">文章</a><span class="sep"></span><a class="cap breadcrumb-link" href="/categories/Journal/">Journal</a></div><div id="post-meta">发布于&nbsp;<time datetime="2023-05-01T00:00:00.000Z">2023-05-01</time></div></div>

<article class='md-text content post'>
<h1 class="article-title"><span>D4C：2023 年 5 月</span></h1>
<div class="tag-plugin note" color="green"><div class="title"><strong>2023 年 5 月精选集</strong></div><div class="body"><ul><li><strong><a href="../JR2305/index.html">5&#x2F;1 - 5&#x2F;6</a>（本文）</strong><ul><li><a href="../JR2305/index.html#%E5%8D%8E%E4%B8%BD%E6%94%B6%E5%9C%BA">非常好废萌</a></li><li><a href="../JR2305/index.html#Copilot-%E7%9A%84%E5%AE%8C%E7%BE%8E%E7%AE%97%E6%9C%AF%E6%95%99%E5%AE%A4">Bangumi 动画评分统计</a></li><li><a href="../BGM/index.html">Bangumi 用户悬浮面板</a></li><li><a href="../JR2305/index.html#%E8%84%9A%E6%9C%AC%E9%81%93%EF%BC%8C%E5%A0%82%E5%A0%82%E8%BF%9E%E8%BD%BD">用户悬浮面板幕后</a></li></ul></li><li><a href="../JR2305A/index.html">5&#x2F;7 - 5&#x2F;8</a><ul><li><a href="../JR2305A/index.html#%E3%83%87%E3%83%BC%E3%82%BF%E3%81%8C%E7%A0%B4%E6%90%8D%E3%81%97%E3%81%A6%E3%81%84%E3%82%8B%E5%8F%AF%E8%83%BD%E6%80%A7%E3%82%82%E3%81%82%E3%82%8B">Kirikiri2 乱码问题</a></li><li><a href="../JR2305A/index.html#Staccato-Da-Capo-1">还是送我得了</a></li></ul></li><li><a href="../JR2305B/index.html">5&#x2F;11 - 5&#x2F;22</a><ul><li><a href="../JR2305B/index.html#%E5%BD%92%E5%BC%82%E4%B9%A1%E8%AE%B0">归异乡记</a></li><li><a href="../PY/index.html">Python 爬虫&#x2F;数据分析简易教程</a></li><li><a href="../JR2305B/index.html#0x80070422">Windows 更新禁用导致 MS Store 无法安装</a></li></ul></li><li><a href="../JR2305C/index.html">5&#x2F;25 - 5&#x2F;30</a><ul><li><a href="../JR2305C/index.html#2023-%E5%B9%B4-5-%E6%9C%88-25-%E6%97%A5%EF%BC%8C%E6%98%9F%E6%9C%9F%E5%9B%9B">SD WebUI xformers 和 torch 依赖问题</a></li><li><a href="../JR2305C/index.html#%E5%BD%92%E6%96%B0%E4%B9%A1%E8%AE%B0">归新乡记</a></li></ul></li></ul></div></div>

<div class="tag-plugin quot"><p class="content" type="text">都看到这里了就麻烦点个 Star 吧！</p></div>

<p>顺便一提，博客中的图片启用了 FancyBox，点击即可查看原图。</p>
<p>再顺便一提，博客启用了 <a target="_blank" rel="noopener" href="https://github.com/beaudar/beaudar">Beaudar</a> 评论系统，欢迎留言。（如果无法使用，请尝试更换浏览器。）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Scherzando Disarray[<span class="number">0</span>] </span><br><span class="line">Accelerando Disorder[<span class="number">1</span>] </span><br><span class="line">Fortepiano Dispersion[<span class="number">2</span>] </span><br><span class="line">Staccato Da Capo[::-<span class="number">1</span>]</span><br></pre></td></tr></table></figure>

<h2 id="2023-年-5-月-1-日，星期一"><a href="#2023-年-5-月-1-日，星期一" class="headerlink" title="2023 年 5 月 1 日，星期一"></a>2023 年 5 月 1 日，星期一</h2><h3 id="华丽收场"><a href="#华丽收场" class="headerlink" title="华丽收场"></a>华丽收场</h3><p>首先得给上个月的<a href="../JR2304/index.html#%E6%B0%B8%E6%81%92%E7%9A%84%E7%BB%88%E7%BB%93-%E9%AB%98%E6%B8%85%E9%87%8D%E7%BD%AE%E7%89%88">最终章</a>收个尾。</p>
<p>嗯，我上个月想着，怎么样也能在月底之前再增补点内容，但是那句话实在是太酷了，后面继续写就有狗尾续貂之嫌，未免是有点缺乏幽默感了。所以，结果而言，非常成功的烂尾了。</p>
<mark class="tag-plugin mark" color="blue">不过，我还是想说，那句话真的很酷。</mark>

<p>首先，本节的标题谓作 Terminology。</p>
<blockquote>
<p>故事是不可能不完结的——对某些两年能水千把章的作者来说，那就不是完结是寸止了——我当然早就明白这个道理了。不过，现在有些东西却<em>再次激发</em>了我对故事<em>能够继续</em>的期待。更确切地说，不太具有教育意义的一个续章。考虑到受众的类型，作品一定是携带一定的目的性的，但是有的时候飞得太高了，收不回来怎么办呢？</p>
</blockquote>
<p>好吧，其实不需要列术语。这段话里面能够挖掘深义的关键词总共就 3 个，“教育意义”“目的性”“飞得太高”，它们自然也是互相关联的。</p>
<ul>
<li>我们假定，公开的作品在创作时就已经是准备拿给别人看的。即使作者沉浸在自我的世界中，落笔时也明晰，作品并非只是为了自己而存在的。因此，作品一定是携带一定的目的性的，这个目的性源自作者，指向读者，或者说就是为了“受众”而存在的。<ul>
<li>目的性可以是多样的，包括但不限于取悦读者、戏弄读者、教育读者，或者引发更加混杂的情感。我们一般说，“单纯地讲个故事”，那也是有目的性的，一般来说是以取悦读者为主，如果不是，看来故事还是有点教育意义的。此处的“故事”不等于“剧情”或者“叙述”，“故事”存在纯粹是因为文本存在，有必要用文本来引入<em>场景</em>，来描述<em>人物</em>，来展开<em>情节</em>，来表达<em>情感</em>。</li>
<li>与之相对的，一般意义上的“剧情”指的是（大量的）戏剧冲突，讲求的是让读者感受到强烈、递进的情感变化。</li>
<li>由是，“单纯讲故事”可以概括为低戏剧性的作品，但是并不是哪里都低。艺术是很复杂的，艺术鉴赏更是复杂，咬文嚼字就会犯一些小错误——<em>场景</em>、<em>人物</em>、<em>情节</em>和<em>情感</em><mark class="tag-plugin mark" color="blue">都是可以被戏剧化的，也就是说，它们都可以被用来讲故事。这样一来，我们就可以把“单纯讲故事”理解为“单纯讲情节”，而不是“单纯讲故事”——这个说法有点误导性，因为它会让人想到“单纯讲故事”是一种低级的艺术形式，而实际上，它只是一种艺术形式而已。</mark></li>
<li>——低剧情性，或者更直接的，“没有剧情”，这种说法没什么问题，但是这并不妨碍情节的铺陈，照样可以把<em>场景</em>、<em>人物</em>和<em>情感</em>展现好，而进一步地，能够创造的是一种“情感的空间”，能够承载一种密度并不低的“情感的变化”。</li>
</ul>
</li>
<li>那么，为什么要强调受众呢？<ul>
<li>对于已经小有名望的作者来说，他们的受众群体是明确的，进一步地，作品的目的往往也是明确的，反映到作品本身来说，故事的“配置”——以“标签”或是“概要”描述的要素——有很多会在不同的作品中保持一致。尽管如此，情感和情节的变化仍然能够让读者感受到新鲜感；到我们今天讨论的这个故事上来，其本身配置也是迎合“单纯讲故事”的模式的，但是能够把剩下的要素都处理好，那就足够激发我作为读者的期待——叫做<em>故事能够继续</em>，<mark class="tag-plugin mark" color="blue">也就是说，我能够在这个故事的世界里面继续感受到情感的变化，而不是说，我能够在这个故事的世界里面继续看到情节的变化。这个期待是很有意思的，因为它是一种“不确定性”，而不是“不确定性”——这个“不确定性”是指，我不知道作者会怎么写，而不是说，我不知道作者会不会写。这种“不确定性”是一种“期待”，而不是一种“担忧”。也就是说，我不会担心作者会不会写，我只会期待作者会怎么写。</mark>——我已经知道作者有创作的动机（会写）和创作的能力（能写），因此我不担心<em>作者不写</em>，也不担心<em>作者写不好</em>，只是期待<em>作者会怎么写</em>。</li>
<li>——回到受众和目的性上来，这个故事的目的性是明确的，它是为了取悦某个特定读者群体而存在的，<mark class="tag-plugin mark" color="blue">而这个读者群体的特点是，他们喜欢这种“单纯讲故事”的模式，他们喜欢在这种模式下感受情感的变化，而不是情节的变化。</mark>这种故事的缺陷在于，“情感的变化”是高度抽象的，而“情节的变化”则是高度具体的，因此，这种故事的受众群体是有限的，虽说有限，却足以给作者提供源源不断的创作动机，而作者的创作能力也足以创作出足够好的<mark class="tag-plugin mark" color="blue">“情感的变化”，从而让这个故事的受众群体保持稳定。</mark></li>
<li>对于还不太出名的作者，甚至是初次涉足这个领域的作者来说，个人往往携带一种强烈的倾向，而创作动机也就从此发源。当然，作者如果想的话，可以随时选择自己的方向、筛选自己的受众，变成另一种作者，但是可以肯定的是，作者并不能变成另一个特定的作者。个人情感与个人的目的性在早期塑造了创作目的性，而在后期限制了创作目的性。——这两者本来就是同一的，但是评论的语义却不同。<mark class="tag-plugin mark" color="blue">这种限制并不是说，作者不能够创作出其他类型的作品，而是说，作者不能够创作出能够稳定受众的其他类型作品。</mark>——“类型作品”，<mark class="tag-plugin mark" color="blue">这个词语的意义在于，它是一种“模式”，而不是一种“风格”。也就是说，它是一种“创作的方法”，而不是一种“创作的结果”。</mark>哪怕两个作品的风格完全不同，有时候你也可以断言，这是一个人写的，创作者携带的情感与展现出的目的性是一致的，这种一致性很容易因为外壳（风格）的变化而被忽略，但是它是存在的。</li>
<li>因此，低剧情性和高戏剧性，这种分类方法是不严格的。很多作品因为“剧情好”就被划分进了后者。我自然并不是觉得“剧情好”是什么问题，但是有很多作品就是因为这种外壳的变化影响了读者对内核的感受，换言之有很多读者将对外壳和内核的理解已经完全混淆了。作者一以贯之的是创作方法，而读者的感官更加适应相似的创作结果，受众也是根据这种创作结果来判断作者的目的性，<mark class="tag-plugin mark" color="blue">从而形成了一个恶性循环。</mark>无论高剧情还是低剧情，都存在着海量套壳换皮的作品，无论作者是否相同，创作方法和目的性是否相同，读者感受到的都是同一种创作结果，这已经和外壳与内核都无关了。现在再来揭开它们的面具，<em>场景</em>是旧有的，<em>人物</em>是旧有的组合体，<em>情节</em>也是旧有的组合体，难道你指望他们要靠着不同的目的性创造不同的混杂<em>情感</em>？<mark class="tag-plugin mark" color="blue">缺乏创造力的人，只能靠着创造力的人来制造，这是一个很简单的道理，但是这个道理在这个领域里却被忽略了。</mark>写故事不仅是<mark class="tag-plugin mark" color="blue">“讲故事”，更是“讲故事的方法”，而这种方法是可以被学习的，但是学习的前提是，你要有自己的目的性，而不是盲目的模仿。你要有自己的目的性，才能够创造出自己的方法，而不是盲目的模仿。</mark></li>
<li>由是，受众是非常重要的，作者如果不清楚受众，只能证明根本就没打算公开这部作品。创造力市场作为一个严重饱和的市场，<mark class="tag-plugin mark" color="blue">作者的目的性是非常重要的，而这种目的性是由作者的情感和受众的需求共同决定的。</mark>经验不丰富的读者很容易被外壳迷惑，但是浅尝就能领会，因为作者的产出是有对象性和限制性的，读者也必须找到自己的位置，而不是哪里有人就往哪里凑。有的读者自认为<mark class="tag-plugin mark" color="blue">能够感受到作者的目的性，但是却不知道自己的位置，这种读者往往会成为“狂热粉丝”，他们的目的性是“追星”，而不是“追作品”。</mark></li>
</ul>
</li>
<li>当然，这个假定并不太成立，但是在这种不太严格的语言和思辨环境下，我们没有必要去追究那些脱离常轨的个例。倘我欲将其奉为艺术，证明不同的出发点并不妨碍我作为读者来感受作者指向我的目的性。若是感受不到，则证明我不属于受众群体，<mark class="tag-plugin mark" color="blue">那么也就不需要我来评价作品了。</mark></li>
<li>飞得太高了，指一个原本“纯粹情节”的故事因为戏剧性增强，而增加了过多的教育意义。教育意义本身也没有错，但是因为故事原本的设计就是低剧情，高戏剧冲突必然集中在很小的一部分，这样就会导致<ul>
<li>因为文本的信息量激增，而读者已经适应纯粹情节的低密度信息，导致读者无法理解个中道理</li>
<li>因为故事本身的设计框架，高戏剧冲突的段落不能很长，很容易潦草收场；或者作者意将与之相关的进一步讨论作为下一个场景的引入，这样也可能导致节奏的不连贯</li>
<li>因为有必要交代更多信息来强化感情爆发，如果这样做就可能导致剧情存在不自洽的情况（这还具体包括两种情况，一种是比较显然的，平行视角下，不同未来交代的过去相互矛盾，而解决方案也很简单，只要减少其他未来的交代就可以了；另一种平行视角下，不同未来交代的客观未来相互矛盾，如果要把被动、客观的事件当作下一个场景的楔子，就有必要考虑在其他的未来如何解决这个矛盾，而这个矛盾的解决方案往往是不解决或者自行解决，也就是缺乏必要的交代，这样就会导致剧情不自洽）</li>
<li>而如果不这样做，就可能导致铺垫不足，或者<em>减少其他未来的交代</em>从宏观来说也促发了铺垫不足</li>
<li>而可以看到，剧情节奏和故事结构处理不好，是一个更加宽泛且常见的问题，在任何故事载体上都能够呈现。</li>
<li>最后，继续在“地面上跑”意味着专注于本来就应该作为核心的“情感”，而不是“教育意义”。这可以说<mark class="tag-plugin mark" color="blue">是一个“情感”和“教育意义”之间的权衡问题，而这个权衡问题在“飞得太高了”之后，就变得更加复杂了。因为“飞得太高了”之后，作者已经不再是一个“纯粹情节”的作者，而是一个“高戏剧冲突”的作者，这样就会导致作者在权衡“情感”和“教育意义”的时候，会更加倾向于“教育意义”，而这样的结果就是“飞得太高了”。</mark>作者可以，但不一定想<mark class="tag-plugin mark" color="blue">去控制自己的作品，而这种控制往往是“教育意义”导向的，而不是“情感”导向的。这种情况下，作者的目的性就会变得模糊，而这种模糊的目的性，</mark>可以导致读者无法<mark class="tag-plugin mark" color="blue">感受到作者的目的性，而这种情况下，读者就会成为“狂热粉丝”，而不是“追作品”。</mark>与之相对应的，作者在完成这个受到载体限制同时又受到故事本身的限制，不得不收笔时，作者仍然有着充足的创作动机（戏剧冲突提供的发展空间）和创作能力，却没有高到能够让人断言这种在相同的外壳下的故事是“有剧情的”，那就反而引发了更多的问题。至于这个故事继续下去，能不能有所突破，答案是，续篇的目的性和受众只能更明确，方向是不能变的，甚至成了束缚。所以本来是因为写的好而出彩，而获得更高的关注度，结局却是陷入了<mark class="tag-plugin mark" color="blue">一个“飞得太高了”的怪圈，而这个怪圈的出口，就是“写得更好”。</mark></li>
</ul>
</li>
<li>我得说 Copilot 的 NLP 仍然有很大进步空间（废话——难道想拿 GPT-3 干四代吗？），但是最终结论是明晰的：因为收束是很重要的，而在这种环境下作者也很容易倾向于“教育意义”，这样反而会导致读者觉得不知所云。如果受众倾向于“情感”和“纯粹情节”（虽然说情节真的只是附带的，至少，默认如此），而作者在半途写出了不错的戏剧性，那可能反而会导致读者无法理解个中道理，觉得这些片断生涩割裂，而如果结尾还在强调这种教育意义，那就是“飞得太高了”，确实不如一直在“地面上跑”来得好——虽然，后者又谈何容易呢？</li>
<li>对读者来说，这么长篇大论地分析作者的动机，那可能确实不太实用，但是我本来就是为了逃避艺术鉴赏而不得不鉴赏艺术来说服自己，缓释遗憾——自然，阅历越广泛，遗憾越丰富。我本来就不准备评判有些东西好或者不好，只是举手对讲师说一句“我有点想法……”，然后就在混乱无序和缺乏逻辑的论坛里制造低熵信息。当然，本来就不存在这样一个论坛，只要我说服自己，那就直接说就是了。</li>
</ul>
<p>不过有一点是无可争议的：</p>
<h3 id="TL-DR"><a href="#TL-DR" class="headerlink" title="TL;DR"></a>TL;DR</h3><p>如果作品卖的不是剧情，剧情太好只会是可持续性的竭泽而渔，长远而言对作者和读者都有负面影响。</p>
<h3 id="Copilot-的完美算术教室"><a href="#Copilot-的完美算术教室" class="headerlink" title="Copilot 的完美算术教室"></a>Copilot 的完美算术教室</h3><p>昨天兴致偶发，开始统计 Bangumi 上的动画评分，到今天为止已经完成了所有的数据获取和宏观统计。</p>
<div class="tag-plugin note" color="purple"><div class="body"><p><strong>项目地址：<a target="_blank" rel="noopener" href="https://github.com/CryoVit/bangumi-anime-ranking">CryoVit&#x2F;bangumi-anime-ranking</a></strong></p></div></div>

<p>点进去能看到更详细的说明和更多统计结果。</p>
<div class="tag-plugin quot"><p class="content" type="text">都看到这里了就麻烦点个 Star 吧！</p></div>

<p>这里不讲技术细节、代码实现。总之，大概思路是，先用爬虫一页一页地爬取排行榜，获取到每个条目的 ID，再访问 API 来下载 JSON 数据，之后的处理分析真没啥好说的。当然，更重要的是，看这节标题你也知道，从 <code>README.md</code> 到 <code>stat.py</code>，全都是 Copilot 在干苦工。</p>
<p>这是 Copilot 参与工作比例最高的一个项目，因为，<code>pandas</code> <code>numpy</code> <code>matplotlib</code> <code>scipy</code> 这几件套我是一个都不会用啊。</p>
<p>我高中的时候也做过这个工作，不过当时</p>
<ul>
<li>我没有一点前端知识。当时是照着网上豆瓣 Top 250 爬虫的代码修修补补。（我已经不清楚具体是哪篇博客了，不过我建议是别查博客了，让 Copilot 帮你完成机械化的部分，不会有错的！）现在的我知道直接一个 <code>BeautifulSoup</code> 扔一个 CSS 选择器进去就能找到条目的 ID 了，但是当时怎么跑的，可能真是个奇迹吧。</li>
<li>我不会用 JSON API，也就是说，我获取条目的具体信息用的是爬条目的详情页来解析，直接后果就是速度慢太多了，最终应该是只爬了 240 个项目。</li>
<li>当时 Bangumi 的受限条目还是从排行榜上隐藏的。现在有排名的受限条目一样会出现在排行榜上，计算条目数量非常方便，看分页数就行。不过，受限条目的 API 自然还是用不了的。</li>
</ul>
<p>好了，废话不多说，我们上统计结果。所有数据爬取于 2023 年 4 月 30 日，我写本文的时候已经更新了，但是显然差距是不大的。</p>
<table>
<thead>
<tr>
<th align="center">项目</th>
<th align="center">结果</th>
</tr>
</thead>
<tbody><tr>
<td align="center">排行榜条目总数</td>
<td align="center">7673</td>
</tr>
<tr>
<td align="center">排行榜受限条目数</td>
<td align="center">1108</td>
</tr>
<tr>
<td align="center">参与下述统计条目数</td>
<td align="center">6565</td>
</tr>
<tr>
<td align="center">总计评分人次</td>
<td align="center">7,573,022</td>
</tr>
<tr>
<td align="center">条目评分数的均值</td>
<td align="center">1153.3</td>
</tr>
<tr>
<td align="center">条目评分数的中位数</td>
<td align="center">395</td>
</tr>
<tr>
<td align="center">条目平均分的均值</td>
<td align="center">6.6637</td>
</tr>
<tr>
<td align="center">条目平均分的中位数</td>
<td align="center">6.7071</td>
</tr>
<tr>
<td align="center">用户评分的均值</td>
<td align="center">7.1854</td>
</tr>
<tr>
<td align="center">用户评分的中位数</td>
<td align="center">7</td>
</tr>
<tr>
<td align="center">用户评分的众数</td>
<td align="center">7</td>
</tr>
</tbody></table>
<p>由于下列图表保存在 Github 仓库中，国内访问可能有问题。如果看不到图表，可以直接访问仓库。</p>
<details class="tag-plugin folding" color="green"><summary><span>图表</span></summary><div class="body"><p>下列图表中的 <code>±n sigma</code> 指的是百分位数等于标准正态分布 <code>CDF(±n)</code> 的值时对应的自变量值，而不是 <code>mean±n×std</code>。（我当然知道这样描述是错的，还是<em>常见错误</em>，但是以后改）</p><div class="tag-plugin image"><div class="image-bg"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://raw.githubusercontent.com/CryoVit/bangumi-anime-ranking/main/data/stat/avg.png" alt="条目平均分分布" fancybox="true"/></div><div class="image-meta"><span class="image-caption center">条目平均分分布</span></div></div><div class="tag-plugin image"><div class="image-bg"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://raw.githubusercontent.com/CryoVit/bangumi-anime-ranking/main/data/stat/std.png" alt="条目分数标准差分布" fancybox="true"/></div><div class="image-meta"><span class="image-caption center">条目分数标准差分布</span></div></div><div class="tag-plugin image"><div class="image-bg"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://raw.githubusercontent.com/CryoVit/bangumi-anime-ranking/main/data/stat/vote.png" alt="条目评分数分布" fancybox="true"/></div><div class="image-meta"><span class="image-caption center">条目评分数分布</span></div></div><div class="tag-plugin image"><div class="image-bg"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://raw.githubusercontent.com/CryoVit/bangumi-anime-ranking/main/data/stat/rank_avg.png" alt="条目平均分和排名的关系" fancybox="true"/></div><div class="image-meta"><span class="image-caption center">条目平均分和排名的关系</span></div></div><div class="tag-plugin image"><div class="image-bg"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://raw.githubusercontent.com/CryoVit/bangumi-anime-ranking/main/data/stat/vote_breakdown.png" alt="所有用户评分与条目平均分分布的对比" fancybox="true"/></div><div class="image-meta"><span class="image-caption center">所有用户评分与条目平均分分布的对比</span></div></div></div></details>

<p>当然这还不是全部，所以快给我点个 Star！</p>
<p>另外，这只是第一部分，第二部分是对于排名算法的分析，我准备学习 <a target="_blank" rel="noopener" href="https://ikely.me/2016/02/05/%E4%BD%BF%E7%94%A8-rankit-%E6%9E%84%E5%BB%BA%E6%9B%B4%E7%A7%91%E5%AD%A6%E7%9A%84%E6%8E%92%E5%90%8D/">Bangumi Research</a>，呃，这里面的排名算法我怎么一个都没听说过？</p>
<p>现在正在研读《Who’s #1?: The Science of Rating and Ranking》。</p>
<h2 id="2023-年-5-月-2-日，星期二"><a href="#2023-年-5-月-2-日，星期二" class="headerlink" title="2023 年 5 月 2 日，星期二"></a>2023 年 5 月 2 日，星期二</h2><h3 id="好的故事"><a href="#好的故事" class="headerlink" title="好的故事"></a>好的故事</h3><p>做了一个过于荒诞的梦，趁着我还笑得出来，辑录如下：</p>
<hr>
<p>算了还是不写了，彻底缺乏逻辑的虚构已经超过了语言能够概括的范围。</p>
<p>好吧，我就直说吧，我之前也做过很多荒诞的梦，但是唯独今天的毫无理性可言，就好像是为了荒诞而荒诞一样。我现在有个小问题，为什么飞行员会需要买机票啊？还会因为买成了 1250 块的<mark class="tag-plugin mark" color="blue">经济舱而被直接丢下啊？这不是荒诞，这是脑子进水了啊。</mark></p>
<p>当然最荒诞的部分应该是高中生飞行员，不过这种设定应该属于是见惯不怪了。</p>
<hr>
<h3 id="坏的故事"><a href="#坏的故事" class="headerlink" title="坏的故事"></a>坏的故事</h3><blockquote>
<p>在梦中的场景，我跟一群人围坐在一个圆桌旁，圆桌的中央是银河系中央的黑洞在外部探测器监测到内容的全息影像，一直到圆桌的转盘边缘处为止都是这个大黑洞的影响范围<br>我夹了个菜，然后直接抛向转盘范围内，奇怪的是这片菜并没有像常规认知下落在桌上，而是开始浮空，并以一种不规律的轨迹在边缘不断盘旋，以各个方向转了很久之后，这片菜尽管还在盘旋，但它已经裂开成几片碎片——这些碎片相互的组合方式也不是常规认知中的一片一片，而是在三维空间中不可能实现地直接交叠，直到最后交叠到看不见为止<br>我现在想了想，就需要确认个事，在接近黑洞的过程中，是否连同维度也受到了影响？越靠近黑洞中央，展开为宏观状态的维度越多？<br>除此之外，我还有个更奇怪的猜想，黑洞的视界范围内并不是单纯像电影中那样全是能量的，而是类似行星那样有具体的物质分布——换句话说，黑洞附近并不是均匀的，也有“陆地”、“海洋”，只不过密度变得非常高罢了，这一点我也有点迷惑</p>
</blockquote>
<h2 id="2023-年-5-月-3-日，星期三"><a href="#2023-年-5-月-3-日，星期三" class="headerlink" title="2023 年 5 月 3 日，星期三"></a>2023 年 5 月 3 日，星期三</h2><h3 id="新的故事"><a href="#新的故事" class="headerlink" title="新的故事"></a>新的故事</h3><mark class="tag-plugin mark" color="blue">今天的梦也很荒诞，但是至少有逻辑可言，而且还有点新意，所以我就写下来吧。</mark>

<p>简单来说，有两个市因为人太少废除了部门（简称<em>废部</em>），然后是一段非常王道的故事，以一次尝试为契机，最终两市合并，成为了一个新的市，广受好评。</p>
<p>好吧，故事概要还是太无聊了，我们还是讨论一下买四两还是半斤肉吧。</p>
<p>从不知道几重梦境中醒来之时，我似乎突然下定决心，要做一款名为“我的暑假”的放置游戏，游戏中主角最初的目标只是“暑假找点事情做”，但是<mark class="tag-plugin mark" color="blue">随着游戏的进行，主角会逐渐发现自己的潜力，最终成为一个“改变世界”的人。</mark>——或者说，哪怕以我稚嫩的文笔、贫瘠的想象，<mark class="tag-plugin mark" color="blue">也要写出一个“改变世界”的故事。</mark></p>
<p>这款游戏还附带许多<em>无障碍功能</em>，都是为了元游戏体验而实现的。比如说，有一个功能可以加粗显示<em>主视角人称代词</em>。这是一个很奇怪的说法，但是主视角并不等价于<mark class="tag-plugin mark" color="blue">主角，而是指在游戏中，玩家所扮演的角色。这个角色并不一定是主角，但是在游戏中，玩家的视角一定是主视角。</mark></p>
<p>代词会在“我”“你”“他”之间切换，<mark class="tag-plugin mark" color="blue">而且会在游戏中的不同阶段有不同的含义。比如说，在游戏的最初阶段，玩家扮演的角色是一个普通的高中生，这时候“我”指的就是这个高中生。但是随着游戏的进行，这个高中生会逐渐发现自己的潜力，最终成为一个“改变世界”的人。这时候，“我”指的就是这个“改变世界”的人，而不是高中生。</mark></p>
<p>——嗯，显然 Copilot 还没有理解我的言外之意。除了不同章节会使用不同人称叙述，同一章节也会切换人称，用“我”和“你”<mark class="tag-plugin mark" color="blue">分别指代玩家所扮演的角色和玩家自己</mark>，或者同样用“你”来指代两个不同的“你”。除此之外，有时还会省略人称，这时候加粗显示就不起作用。玩家可以调整为下划线显示，这样就会在原来省略的地方加入一个空白字符，但是代价是下划线并不如加粗醒目，这在视觉设计上也是可以利用的。</p>
<p>还有一些你永远无法在任何一款游戏中见到的很多功能——因为我觉得不太有人会喜欢几十页的游戏内设置。比如说，深色&#x2F;浅色模式软切换，BGM独立设置淡入淡出，微软雅黑巨型文本框，<mark class="tag-plugin mark" color="blue">这些都是我在玩游戏的时候想到的，但是没有见过的功能。但是，这些功能都是为了更好的游戏体验而实现的，而不是为了炫技。</mark></p>
<mark class="tag-plugin mark" color="blue">今天的梦境还是很有趣的，但是我还是觉得这个故事太王道了，所以我就写了一个更王道的故事。</mark>

<p>结果而言，<mark class="tag-plugin mark" color="blue">我觉得我还是不太适合写故事，但是我还是想写一些故事。</mark></p>
<hr>
<p>好的故事不好。</p>
<p>坏的故事不坏。（我能如此断言，因这并非我的创作）</p>
<p>新的故事不新。</p>
<p>这个故事就点到为止了。</p>
<h2 id="2023-年-5-月-6-日，星期六"><a href="#2023-年-5-月-6-日，星期六" class="headerlink" title="2023 年 5 月 6 日，星期六"></a>2023 年 5 月 6 日，星期六</h2><h3 id="脚本道，堂堂连载"><a href="#脚本道，堂堂连载" class="headerlink" title="脚本道，堂堂连载"></a>脚本道，堂堂连载</h3><p>我已经 10 分钟没有炫耀我的脚本了。如果你还没有听说过，首先，</p>
<div class="tag-plugin quot"><p class="content" type="text">都看到这里了就麻烦点个 Star 吧！</p></div>

<blockquote>
<p>原来发布页的内容就写在这里，显得太杂乱了。所以把它独立成一篇文章了。</p>
</blockquote>
<div class="tag-plugin note" color="purple"><div class="body"><p><strong>博客上的发布页：<a href="../BGM/index.html">Bangumi：用户悬浮面板</a></strong></p></div></div>
<div class="tag-plugin note" color="purple"><div class="body"><p><strong>项目地址：<a target="_blank" rel="noopener" href="https://github.com/CryoVit/bangumi-script">CryoVit&#x2F;bangumi-script</a></strong></p></div></div>

<p>好吧，我当然知道，没有人想再看一遍我复制粘贴了多少遍的文字。</p>
<p>接下来分享点<del>君の知らない物語</del>花絮吧。</p>
<h3 id="CSS-is-awesome-min-js"><a href="#CSS-is-awesome-min-js" class="headerlink" title="CSS_is_awesome.min.js"></a>CSS_is_awesome.min.js</h3><p>首先，我的前端水平非常糟糕。好吧，无论是哪一门编程语言，我在语言层面上的掌握都非常有限，现在想起来以前在 Leetcode 上填“精通 C++”真是贻笑大方了。</p>
<p>几天前因为考试周闲得发慌，学了学 React.js，做了 <a href="react.dev">react.dev</a> 官方教程上的两个入门项目。顺便也是我第一次接触 JSX，给我带来了第一次冲击。我一边查着文档思考怎么语法全是错的，一边得出结论，算是学了一门全新的语言。</p>
<p>然后因为还是太闲了，就考虑整点爬虫玩。由于我对世界与互联网的认知有限，不知道有什么有趣的数据集可以爬，就想到了 Bangumi 和 Codeforces。但是后者之前也做过相关项目：<a target="_blank" rel="noopener" href="https://github.com/CryoVit/Codeforces-Rating-System">CryoVit&#x2F;Codeforces-Rating-System</a>，新的起始 Rating 制度又让分析 Elo Rating 的意义大打折扣，所以就选择了前者。</p>
<p>然后就是上文 5 月 1 日提到的统计结果。确实很有意思，但是还不够，我还想整排名算法。我这时候一直惦记着<a target="_blank" rel="noopener" href="https://chii.ai/">某科学的动画排名</a>，那肯定得点进去看看最新最热排名啊。</p>
<p>再然后，就是 5 月 3 日再次加入 Bangumi，刷着茶话会刷到凌晨三点，九点醒来继续水<a target="_blank" rel="noopener" href="https://bgm.tv/group/qpz">评分与排名讨论会</a> 水到中午。这时候我在想，在这人生地不熟的社区——活跃的老面孔姑且是能刷到几个——快速查成分是很有必要的。但是我又没有数据库，能整点啥呢？</p>
<p>5 月 4 日，我给出的答案是史诗级烂活，<a target="_blank" rel="noopener" href="https://bgm.tv/group/topic/381302">在讨论、日志和条目页显示用户收藏和评分统计数据</a>。没有任何技术含量，就简单用 <code>.getElementsByClassName()</code> 读一下用户页的 HTML，然后在原页面显示需要的数据，没了。因为请求频率太高，会引发 503 错误，所以我加了 1 秒的延迟并做了 <code>SessionStorage</code> 缓存，还是无法避免 503。不到 100 行的源码，唯一用到样式的地方是保持灰字颜色与字号和原页面一致。</p>
<p>结果而言，确实很失败。只有两条评论。“这么有用的功能居然没人写？”——当我满怀希望地点击发送按钮时，虽然没写下来，肯定是这样想的。</p>
<p>不过，评论区推荐我去做新版的<a target="_blank" rel="noopener" href="https://bgm.tv/dev/app/953">鼠标移到用户链接上时展示一个用户简介的悬浮框</a>。这确实是很有建设性的建议。——结果而言，就有了今天这个插件。</p>
<ul>
<li>初览源码：原版组件使用了 jQuery 和 Promise，这不巧了嘛，我都不会。</li>
<li><a target="_blank" rel="noopener" href="https://github.com/CryoVit/bangumi-script/commit/27cf122e52c2a4e99ffa477b5f01b954beb7f58b"><code>v0.1</code> | 深色模式</a>：在关灯模式下，原版组件仍然以浅色模式呈现，作为 Dark Reader 重度依赖患者（Dark Reader 识别到网站深色模式而未启用。不过如果网站浅色启用 Dark Reader，组件能正确显示）这当然是得第一个改的。于是我学到了 <strong>CSS 变量</strong>——这玩意之前在 murasaki 和 Stellar 主题的深色模式配置文章中都有读到过，实际用起来确实是叫一个方便。</li>
<li><a target="_blank" rel="noopener" href="https://github.com/CryoVit/bangumi-script/commit/153ba9271070fd3a27254ea5611ba4f2acb30574"><code>v0.2</code> | 统计数据</a>：没错，我注册就是为了整这个。这个功能的最大难点就是把需要的信息提取出来。——用到了 <strong>正则</strong>、<code>regExp.exec()</code>、<code>Array.from()</code>、<code>map(=&gt;)</code>，我还是不会，但是由于我和 Copilot 都能参考原作者的代码，总是能写出来的。一开始 Copilot 没法正确理解我的需求，但是调试调试总能改对的。显示信息本身是非常简单的，哪怕我不知道 JSX 函数外面一大堆圆括号方括号花括号的语法，往原来的函数体里面加东西就行了！</li>
<li><a target="_blank" rel="noopener" href="https://github.com/CryoVit/bangumi-script/commit/1e531ce416caa59e3ff45a8a268eef5708f1f996"><code>v0.3</code> | UI 美化</a>：原组件的 UI 其实存在一些没对齐、不对称的问题，这个版本就水了一下，顺便把主题从粉色改成粉蓝双色相间。</li>
<li><a target="_blank" rel="noopener" href="https://github.com/CryoVit/bangumi-script/releases/tag/v0.4.4"><code>v0.4.4</code> | 正式发布</a>：这个版本没改啥东西，就制作了预览图和 GIF（用 Screen2gif 做的）。顺便一提，文盲如我，把放图片素材的文件夹 <code>assets/</code> 误拼成了 <code>assests/</code>。——不过，正式发布也确实值得改个版本号；也巧，原组件停留在了 v0.3，我就从 v0.4 开始了。——这次发布，收到了相当热烈的反馈，评论区非常热情地提供了美化 UI、增加时间线功能等建议，外加很多言语上的支持。我确实得向你们表示由衷感谢。</li>
<li><a target="_blank" rel="noopener" href="https://github.com/CryoVit/bangumi-script/releases/tag/v0.5.1"><code>v0.5.1</code> | UI 美化</a>：又是一个小版本，因为我整个白天都在写脚本，在学校外面一边被蚊子骚扰一边吃麦当劳打 8 折的巨无霸套餐，一边想着得赶紧关网去复习期末最后一门了。——我从来没觉得巨无霸这么难吃，不过尺寸上来说姑且合格。</li>
<li><a target="_blank" rel="noopener" href="https://github.com/CryoVit/bangumi-script/releases/tag/v0.6.4"><code>v0.6.4</code> | 最新最热</a>：这是目前改动最大、我最满意的版本。新增内容实在太多，建议点击链接获取详情。最主要的，当然是用户可以自行配置显示哪些部分。我本来想写个下拉框，但是 <code>&lt;select&gt;</code> 的问题是需要按 <code>Ctrl</code> 复选，可能对一些设备不是很友好。所以最后只能写个弹窗，用 <code>&lt;input type=&quot;checkbox&quot;&gt;</code> 实现——我不会写弹窗，因此我只是写了个 <code>position: fixed</code>、在页面正中间、<code>z-index</code> 比原面板还要高的面板。如果把背景虚化（提高透明度）看起来会很酷，但是我不会写。我还希望能够在修改设置之后立即刷新，我也不知道怎么重新渲染。但是因为弹窗独立于原面板，所以实际上修改设置肯定会导致原面板消失，这样就手工重渲染了。这个版本用到了 <code>localStorage</code> 和<strong>位状态</strong>以保存选项。位状态这个想法大概是从反物质维度的现实升级里面学到的（用 <code>1, 2, 4, ..., 2 ** 24</code> 分别表示 25 个升级，用部分元素和表示哪些升级已购买&#x2F;解锁）——或者说，它的诨名叫做状态压缩，我可终于是正儿八经用上一次了。</li>
<li>未来计划：不知道。修 bug、优化 UI、优化代码，但是还有什么新东西呢？可能是有的，比如说可以获取用户最近发表的主题，比如说拓展或者独立出条目悬浮框的功能，大概还是有点事可做的。</li>
</ul>
<p>顺便一提，Bangumi 的组件审核速度大概和另一个 B 站一样神奇。<code>v0.6.3</code> 一下午都在审核中，然后因为更新 <code>v0.6.4</code> 撤下，再更新到 <code>v0.6.4</code> 居然秒过了。</p>


<div class="article-footer reveal fs14"><section id="license"><div class="header"><span>许可协议</span></div><div class="body"><p>本文采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh">署名-相同方式共享 4.0 国际许可协议</a>，转载请注明出处。</p>
</div></section></div>

</article>

<div class="related-wrap reveal" id="read-next"><section class="body"><div class="item" id="prev"><div class="note">较新文章</div><a href="/2023/BGM/">Bangumi：用户悬浮面板</a></div><div class="item" id="next"><div class="note">较早文章</div><a href="/2023/JR2304/">脱轨：2023 年 4 月</a></div></section></div>






  <div class='related-wrap md-text reveal' id="comments">
    <section class='header cmt-title cap theme'>
      快来参与讨论吧
    </section>
    <section class='body cmt-body beaudar'>
      

<svg class="loading" style="vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2709"><path d="M832 512c0-176-144-320-320-320V128c211.2 0 384 172.8 384 384h-64zM192 512c0 176 144 320 320 320v64C300.8 896 128 723.2 128 512h64z" p-id="2710"></path></svg>

<div id="beaudar" repo="CryoVit/blog-comments" issue-term="pathname" theme="preferred-color-scheme" input-position="top" comment-order="desc" loading="false" branch="main"></div>

    </section>
  </div>



      
<footer class="page-footer reveal fs12"><hr><div class="text"><p><a target="_blank" rel="noopener" href="https://github.com/CryoVit">@CryoVit</a> Overclocked by <a target="_blank" rel="noopener" href="https://xaoxuu.com/wiki/stellar/">Stellar</a></p>
</div></footer>

      <div class='float-panel mobile-only blur' style='display:none'>
  <button type='button' class='sidebar-toggle mobile' onclick='sidebar.toggle()'>
    <svg class="icon" style="width: 1em; height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15301"><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 2.3 26.8 24.6 47.5 51.6 47.6h416.5v4z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15302"></path><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 1.9 27.7 23.9 49.7 51.6 51.6h416.5z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15303"></path></svg>
  </button>
</div>

    </div>
  </div>
  <div class='scripts'>
    <script type="text/javascript">
  const stellar = {
    // 懒加载 css https://github.com/filamentgroup/loadCSS
    loadCSS: (href, before, media, attributes) => {
      var doc = window.document;
      var ss = doc.createElement("link");
      var ref;
      if (before) {
        ref = before;
      } else {
        var refs = (doc.body || doc.getElementsByTagName("head")[0]).childNodes;
        ref = refs[refs.length - 1];
      }
      var sheets = doc.styleSheets;
      if (attributes) {
        for (var attributeName in attributes) {
          if (attributes.hasOwnProperty(attributeName)) {
            ss.setAttribute(attributeName, attributes[attributeName]);
          }
        }
      }
      ss.rel = "stylesheet";
      ss.href = href;
      ss.media = "only x";
      function ready(cb) {
        if (doc.body) {
          return cb();
        }
        setTimeout(function () {
          ready(cb);
        });
      }
      ready(function () {
        ref.parentNode.insertBefore(ss, before ? ref : ref.nextSibling);
      });
      var onloadcssdefined = function (cb) {
        var resolvedHref = ss.href;
        var i = sheets.length;
        while (i--) {
          if (sheets[i].href === resolvedHref) {
            return cb();
          }
        }
        setTimeout(function () {
          onloadcssdefined(cb);
        });
      };
      function loadCB() {
        if (ss.addEventListener) {
          ss.removeEventListener("load", loadCB);
        }
        ss.media = media || "all";
      }
      if (ss.addEventListener) {
        ss.addEventListener("load", loadCB);
      }
      ss.onloadcssdefined = onloadcssdefined;
      onloadcssdefined(loadCB);
      return ss;
    },

    // 从 butterfly 和 volantis 获得灵感
    loadScript: (src, opt) => new Promise((resolve, reject) => {
      var script = document.createElement('script');
      script.src = src;
      if (opt) {
        for (let key of Object.keys(opt)) {
          script[key] = opt[key]
        }
      } else {
        // 默认异步，如果需要同步，第二个参数传入 {} 即可
        script.async = true
      }
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    }),

    // https://github.com/jerryc127/hexo-theme-butterfly
    jQuery: (fn) => {
      if (typeof jQuery === 'undefined') {
        stellar.loadScript(stellar.plugins.jQuery).then(fn)
      } else {
        fn()
      }
    }
  };
  stellar.version = '1.18.5';
  stellar.github = 'https://github.com/xaoxuu/hexo-theme-stellar/tree/1.18.5';
  stellar.config = {
    date_suffix: {
      just: '刚刚',
      min: '分钟前',
      hour: '小时前',
      day: '天前',
      month: '个月前',
    },
  };

  // required plugins (only load if needs)
  stellar.plugins = {
    jQuery: 'https://gcore.jsdelivr.net/npm/jquery@3.6.2/dist/jquery.min.js'
  };

  if ('local_search') {
    stellar.search = {};
    stellar.search.service = 'local_search';
    if (stellar.search.service == 'local_search') {
      let service_obj = Object.assign({}, {"field":"all","path":"/search.json","content":true,"sort":"-date"});
      stellar.search[stellar.search.service] = service_obj;
    }
  }

  // stellar js
  stellar.plugins.stellar = Object.assign({"sites":"/js/plugins/sites.js","friends":"/js/plugins/friends.js","ghinfo":"/js/plugins/ghinfo.js","timeline":"/js/plugins/timeline.js","linkcard":"/js/plugins/linkcard.js","fcircle":"/js/plugins/fcircle.js","weibo":"/js/plugins/weibo.js"});

  stellar.plugins.marked = Object.assign("https://cdn.bootcdn.net/ajax/libs/marked/4.0.18/marked.min.js");
  // optional plugins
  if ('true' == 'true') {
    stellar.plugins.lazyload = Object.assign({"enable":true,"js":"https://gcore.jsdelivr.net/npm/vanilla-lazyload@17.8.3/dist/lazyload.min.js","transition":"blur"});
  }
  if ('true' == 'true') {
    stellar.plugins.swiper = Object.assign({"enable":true,"css":"https://unpkg.com/swiper@8.4.5/swiper-bundle.min.css","js":"https://unpkg.com/swiper@8.4.5/swiper-bundle.min.js"});
  }
  if ('' == 'true') {
    stellar.plugins.scrollreveal = Object.assign({"enable":null,"js":"https://gcore.jsdelivr.net/npm/scrollreveal@4.0.9/dist/scrollreveal.min.js","distance":"8px","duration":500,"interval":100,"scale":1});
  }
  if ('true' == 'true') {
    stellar.plugins.preload = Object.assign({"enable":true,"service":"flying_pages","instant_page":"https://gcore.jsdelivr.net/gh/volantis-x/cdn-volantis@4.1.2/js/instant_page.js","flying_pages":"https://gcore.jsdelivr.net/gh/gijo-varghese/flying-pages@2.1.2/flying-pages.min.js"});
  }
  if ('true' == 'true') {
    stellar.plugins.fancybox = Object.assign({"enable":true,"js":"https://gcore.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.umd.js","css":"https://gcore.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.css","selector":".swiper-slide img"});
  }
  if ('false' == 'true') {
    stellar.plugins.heti = Object.assign({"enable":false,"css":"https://unpkg.com/heti@0.9.2/umd/heti.min.css","js":"https://unpkg.com/heti@0.9.2/umd/heti-addon.min.js"});
  }
</script>

<!-- required -->

  
<script src="/js/main.js" async></script>



<!-- optional -->

  <script>
  function loadBeaudar() {
    const els = document.querySelectorAll("#comments #beaudar");
    if (els.length === 0) return;
    els.forEach((el, i) => {
      try {
        el.innerHTML = '';
      } catch (error) {
        console.log(error);
      }
      var script = document.createElement('script');
      script.src = 'https://beaudar.lipk.org/client.js';
      script.async = true;
      for (let key of Object.keys(el.attributes)) {
        let attr = el.attributes[key];
        if (['class', 'id'].includes(attr.name) === false) {
          script.setAttribute(attr.name, attr.value);
        }
      }
      el.appendChild(script);
    });
  }
  window.addEventListener('DOMContentLoaded', (event) => {
      loadBeaudar();
  });
</script>




<!-- inject -->


  </div>
</body>
</html>
